(function(n){function r(){if(t.valid()){var n=t.serializeFormToObject();abp.ui.setBusy(t);u.update(n).done(function(){i.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(i)})}}var u=abp.services.app.order,i=n("#OrderEditModal"),t=n("form[name=OrderEditForm]");t.find("#CustomerId").on("change",function(){var r=n(this).val(),i=t.find("#AddressId");i.empty();i.selectpicker("refresh");n.ajax({url:abp.appPath+"Orders/UpdateAddresses/"+r,type:"POST",dataType:"json",success:function(t){var r,u;console.log(t);r=t.result;console.log(r);u=0;n.each(r,function(){i.append("<option value='"+r[u].id+"'>"+r[u].streetAddress+" "+r[u].houseNumber+" "+r[u].postalCode+" <\/option>");u++});i.selectpicker("refresh")},done:function(n){console.log(n)},error:function(n,t){var i="";i=n.status===0?"Not connect.\n Verify Network.":n.status==404?"Requested page not found. [404]":n.status==500?"Internal Server Error [500].":t==="parsererror"?"Requested JSON parse failed.":t==="timeout"?"Time out error.":t==="abort"?"Ajax request aborted.":"Uncaught Error.\n"+n.responseText;alert(i)}})});t.closest("div.modal-content").find(".save-button").click(function(n){n.preventDefault();r()});t.find("input").on("keypress",function(n){n.which===13&&(n.preventDefault(),r())});n.AdminBSB.input.activate(t);i.on("shown.bs.modal",function(){t.find("input[type=text]:first").focus()})})(jQuery);