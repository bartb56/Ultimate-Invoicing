(function(){$(function(){function r(){location.reload(!0)}function u(n,t){abp.message.confirm(abp.utils.formatString(abp.localization.localize("AreYouSureWantToDelete","UltimateInvocing"),t),function(t){t&&i.delete(n).done(function(){r()})})}var i=abp.services.app.address,f=abp.services.app.province,t=$("#AddressCreateModal"),n=t.find("form");n.validate({});$("#RefreshButton").click(function(){r()});$(".delete-address").click(function(){var n=$(this).attr("data-address-id"),t=$(this).attr("data-address-name");u(n,t)});$(".edit-address").click(function(n){var t=$(this).attr("data-address-id");n.preventDefault();n.preventDefault();$.ajax({url:abp.appPath+"Address/EditAddressModal?addressId="+t,type:"POST",contentType:"application/html",success:function(n){console.log("success");$("#AddressEditModal div.modal-content").html(n)},error:function(){console.log("Failure")}})});n.find("#CountryId").on("change",function(){var i=$(this).val(),t=n.find("#ProvinceId");t.empty();t.selectpicker("refresh");$.ajax({url:abp.appPath+"Address/UpdateProvinceList?countryId="+i,type:"POST",success:function(n){var i=n.result,r;console.log(i);r=0;$.each(i,function(){t.append("<option value='"+i[r].id+"'>"+i[r].name+"<\/option>");r++});t.selectpicker("refresh")}})});n.find("#Taxable").click(function(){$(this).val()=="True"?$(this).val("False"):$(this).val("True")});n.find('button[type="submit"]').click(function(r){var u,f,e,o;if(r.preventDefault(),n.valid()){if(u=n.serializeFormToObject(),u.permissions=[],f=$("input[name='permission']:checked"),f)for(e=0;e<f.length;e++)o=$(f[e]),u.permissions.push(o.val());abp.ui.setBusy(t);i.create(u).done(function(){t.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(t)})}});t.on("shown.bs.modal",function(){t.find("input:not([type=hidden]):first").focus()})})})();