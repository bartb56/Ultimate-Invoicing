(function(n){function r(){if(t.valid()){var n=t.serializeFormToObject();abp.ui.setBusy(t);u.update(n).done(function(){i.modal("hide");location.reload(!0)}).always(function(){abp.ui.clearBusy(i)})}}var u=abp.services.app.product,i=n("#ProductEditModal"),t=n("form[name=ProductEditForm]");t.find("#IsAvailable").click(function(){n(this).val()=="True"?n(this).val("False"):n(this).val("True")});t.find("#CountryId").on("change",function(){var r=n(this).val(),i=t.find("#ProvinceId");console.log(i);i.empty();i.selectpicker("refresh");n.ajax({url:abp.appPath+"Product/UpdateProvinceList?countryId="+r,type:"POST",success:function(t){var u=t.result,r;for(console.log(u),r=0;r<u.length;r++)console.log(u[r]),i.append("<option value='"+u[r].id+"'>"+u[r].name+"<\/option>");n.each(u,function(){r++});i.selectpicker("refresh")}})});t.closest("div.modal-content").find(".save-button").click(function(n){n.preventDefault();r()});t.find("input").on("keypress",function(n){n.which===13&&(n.preventDefault(),r())});n.AdminBSB.input.activate(t);i.on("shown.bs.modal",function(){t.find("input[type=text]:first").focus()})})(jQuery);